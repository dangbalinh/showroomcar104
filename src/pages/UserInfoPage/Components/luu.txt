 <div className={classes.NameGT}>
    <div  style={{width:"65%"}}>
      <lable>Tên</lable>
            <input
                type="text"
                placeholder="Tên"
                onChange={handleChange}
                name="name"
                style={{width:"75%"}}
                value={formData.name}
            />
    </div>
    <div  style={{width:"35%"}}>
      <label>Giới tính </label>
            <select 
                id="favColor" 
                value={formData.gioitinh}
                onChange={handleChange}
                
                name="gioitinh"
            >
                <option value="Nữ">Nữ</option>
                <option value="Nam">Nam</option>
            </select>
    </div>
    </div>
    <div>
      <label>Địa chỉ</label>
            <input
                type="text"
                placeholder="Địa chỉ"
                onChange={handleChange}
                name="diachi"
                
                value={formData.diachi}
            />
    </div>
    <div className={classes.NameGT2}>
    <div>
      
      <label>SDT</label>
            <input
                type="tel"
                placeholder="SDT"
                onChange={handleChange}
                name="sdt"
                value={formData.sdt}
            />
    </div>
    <div>
      <label>CCCD</label>
            <input
                type="text"
                placeholder="CCCD"
                onChange={handleChange}
                name="cccd"
                value={formData.cccd}
            />
    </div>
    </div>
    <div style={{display:"flex"}}>
      <label>Ngày sinh</label>
            <div className={classes.funcContainer}>
               <LocalizationProvider dateAdapter={AdapterDayjs} >
                   <Stack spacing={3}>
                       <DesktopDatePicker 
                          className={classes.DesDate}
                          inputFormat="DD/MM/YYYY"
                          value={date}
                          onChange={setDate}
                          renderInput={(params) => <TextField {...params} />}
                          />
                    </Stack>
              </LocalizationProvider>
              </div>
    </div>
            <br />
            <button onClick={handleSubmit}>Submit</button>
    </form>
    </div>
    <div className={classes.backdrop} onClick={()=>props.closewindow(false)}></div>
    </>
  )
}

export default UpatePopUp
















import React,{useState,useEffect} from 'react'
import classes from'../UserInfoPage.module.css'
import { DesktopDatePicker } from "@mui/x-date-pickers"
import { Stack } from '@mui/material';
import axios from 'axios';
import Swal from 'sweetalert2';
import {
  Box,
  Grid,
  styled,
  Theme,
  Paper,
  TextField
} from "@mui/material";
import { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';
import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs';
import dayjs, { Dayjs } from 'dayjs';
const UpatePopUp = (props) => {
  const token = localStorage.getItem("token");
  const [didMount, setDidMount] = useState(false)
  const [birth, setBirth] = useState(props.data.ngaysinh)
  const [date, setDate] = useState(dayjs(props.data.ngaysinh,"DD:MM:YYYY"))
  const authAxios = axios.create({
    baseURL: 'https://showroomcar104.onrender.com',
    headers:{
      Authorization:`Bearer ${token}`
    }
  })
  //console.log(props.data.ngaysinh);
  //console.log(birth);
  //console.log(date);

  const sendRequestSU = async ()=>{
    const res = await authAxios
    .put(`/users/me`,{
      name:String(formData.name),
      diachi:String(formData.diachi),
      sdt:String(formData.sdt),
      cccd:String(formData.cccd),
      ngaysinh:String(birth),
      gioitinh:String(formData.gioitinh)
    })
    .catch((err)=>console.log(err))

    const data = await res.data;
    console.log(data);
    return data;
  }
  useEffect(() => {
     var value = new Date(date);
    var finaldate = (parseInt(value.getDate())<10? ("0" + (0 + value.getDate())): (value.getDate())) + "-" + (parseInt(value.getMonth())<9? ("0" + (0 + value.getMonth() + 1)): (value.getMonth() + 1))  + '-' +  value.getFullYear()
    setBirth(finaldate)
  }, [date])
  useEffect(() => { setDidMount(true) }, [])
  const [formData, setFormData] = useState(
    {
        name: props.data.name, 
        diachi: props.data.diachi, 
        sdt: props.data.sdt, 
        cccd: props.data.cccd, 
        gioitinh: props.data.gioitinh,
    }
  )

function handleChange(event) {
    const {name, value} = event.target
    setFormData(prevFormData => {
        return {
            ...prevFormData,
            [name]: value
        }
    })
}
 function handleSubmit(event) {
  event.preventDefault()
  // submitToApi(formData)
  //console.log(birth);
  //console.log(dayjs('01-09-2002',"DD:MM:YYYY"));
  //console.log(formData)
  sendRequestSU()
  .then((data)=>props.setStatus(data))
  .then(()=>{Swal.fire({
    icon: 'success',
    title: 'Cập nhật thành công',
    })})
  .then(()=>props.closewindow(false))
}
const Item = styled(Paper)(({ theme }) => ({
  padding: theme.spacing(1),
  textAlign: 'right',
  justify:"flex-end"
}));
  return (<>
    <div className={classes.Update}>
    <form className={classes.form}>
    <h1>Cập nhật thông tin</h1>
    <Box sx={{ flexGrow:1 }}>
      <Grid container spacing={2} direction="row"
  justify="flex-end"
  alignItems="center">
        <Grid item xs={3}>
          <Item><lable>Tên</lable></Item>
        </Grid>
        <Grid item xs={4}>
          <Item>
          <input
                type="text"
                placeholder="Tên"
                onChange={handleChange}
                name="name"
                value={formData.name}
            />
          </Item>
        </Grid>
        <Grid item xs={3}>
          <Item><label>Giới tính </label></Item>
        </Grid>
        <Grid item xs={2}>
          <Item>
            <select 
                id="favColor" 
                value={formData.gioitinh}
                onChange={handleChange}
                
                name="gioitinh"
            >
                <option value="Nữ">Nữ</option>
                <option value="Nam">Nam</option>
            </select></Item>
        </Grid>
        <Grid item xs={3}>
          <Item><label>Địa chỉ</label></Item>
        </Grid>
        <Grid item xs={9}>
          <Item>
            <input
                type="text"
                placeholder="Địa chỉ"
                onChange={handleChange}
                name="diachi"
                
                value={formData.diachi}
            />
          </Item>
        </Grid>
        <Grid item xs={3}>
          <Item><label>SDT</label>
            </Item>
        </Grid>
        <Grid item xs={3}>
          <Item>
          <input
                type="tel"
                placeholder="SDT"
                onChange={handleChange}
                name="sdt"
                value={formData.sdt}
            />
          </Item>
        </Grid>
        <Grid item xs={3}>
          <Item> <label>CCCD</label>
            </Item>
        </Grid>
        <Grid item xs={3}>
          <Item>
            <input
                type="text"
                placeholder="CCCD"
                onChange={handleChange}
                name="cccd"
                value={formData.cccd}
            />
          </Item>
        </Grid>
        <Grid item xs={3}>
          <Item><label>Ngày sinh</label></Item>
        </Grid>
        <Grid item xs={3}>
          <Item>
            <div className={classes.funcContainer}>
               <LocalizationProvider dateAdapter={AdapterDayjs} >
                   <Stack spacing={3}>
                       <DesktopDatePicker 
                          className={classes.DesDate}
                          inputFormat="DD/MM/YYYY"
                          value={date}
                          onChange={setDate}
                          renderInput={(params) => <TextField {...params} />}
                          />
                    </Stack>
              </LocalizationProvider>
              </div>
          </Item>
        </Grid>
      </Grid>
    </Box>
            <button onClick={handleSubmit}>Submit</button>
    </form>
    </div>
    <div className={classes.backdrop} onClick={()=>props.closewindow(false)}></div>
    </>
  )
}

export default UpatePopUp